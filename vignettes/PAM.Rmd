---
title: "PAM"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{PAM}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

[Municipal Agricultural Production](https://www.ibge.gov.br/en/statistics/economic/agriculture-forestry-and-fishing/16773-municipal-agricultural-production-temporary-and-permanent-crops.html?=&t=o-que-e) (PAM, in Portuguese) is a nationwide annual survey conducted by IBGE (Brazilian Institute of Geography and Statistics) which provides information on agricultural products, such as quantity produced, area planted and harvested, average quantity of output and monetary value of such output. The products are divided in permanent and temporary farmed land, as well as dedicated surveys to the four products that yield multiple harvests a year (beans, potato, peanut and corn), which all sum to a total survey of 64 agricultural products (31 of temporary tillage and 33 of permanent tillage). Output, however, is only included in the dataset if the planted area occupies over 1 acre or if output exceeds one tonne. 

Permanent farming is characterized by a cycle of long duration, whose harvests may be done multiple times across the years without the need of planting seeds again. Temporary farming, on the other hand, consists of cycles of short and medium duration, which after harvesting require planting seeds again.

The data also has multiple aggregation levels, such as nationwide, by region, mesoregion and microregion, as well as state and municipality. 

The data available has a yearly frequency and is available from 1974 to the present, with the exception of the four multiple-harvest products, which are only available from 2003. More information can be found on [this link](https://www.ibge.gov.br/estatisticas/economicas/agricultura-e-pecuaria/9117-producao-agricola-municipal-culturas-temporarias-e-permanentes.html#:~:text=A%20pesquisa%20Produ%C3%A7%C3%A3o%20Agr%C3%ADcola%20Municipal,s%C3%A3o%20da%20cesta%20b%C3%A1sica%20do ) (only in Portuguese).

***
**Options:**

  1. **dataset**: See tables below

  2. **raw_data**: there are two options:
      * `TRUE`: if you want the data as it is originally.
      * `FALSE`: if you want the treated version of the data. 
      
  3. **geo_level**: `"country"`, `"region"`, `"state"`, or `"municipality"`    
  
  4. **time_period**: picks the years for which the data will be downloaded

  5. **language**: you can choose between Portuguese `("pt")` and English `("eng")`
  
***

The datasets supported are shown in the tables below, made up of both the original databases and their narrower subsets. Note that downloading only specific crops is considerably faster.

<details>
<summary> Full datasets provided by IBGE: </summary>
| dataset |
|:--------|
|all_crops|
|temporary_crops|
|permanent_crops|
|corn|
|potato|
|peanut|
|beans|
</details>

<details>
<summary> Datasets generated from Temporary Crops: </summary>

| dataset | Name (pt) | Name (eng) |
|:--------|:---------:|:----------:|
| total_temporary | Total | Total |
| abacaxi | Abacaxi | Pineapple |
| alfafa | Alfafa Fenada | Alfafa Fenada |
| alho | Alho | Garlic |
| algodao_herbaceo | Algodao Herbaceo (em Caroco) | Herbaceous Cotton (in Caroco) |
| amendoim_temporary | Amendoim (em Casca) | Peanuts (in Shell) |
| arroz | Arroz (em Casca) | Rice (in husk) |
| aveia | Aveia (em Grao) | Oats (in grain) |
| batata_doce | Batata Doce | Sweet potato |
| batata_inglesa | Batata Inglesa | English potato |
| cana_de_acucar | Cana de Acucar | Sugar cane |
| cana_para_forragem | Cana para Forragem | Forage cane |
| castor_bean | Mamona (Baga) | Castor bean (Berry) |
| cebola | Cebola | Onion |
| cevada | Cevada (em Grao) | Barley (in Grain) |
| ervilha | Ervilha (em Grao) | Pea (in Grain) |
| fava | Fava (em Grao) | Broad Bean (in Grain) |
| feijao_temporary | Feijao (em Grao) | Beans (in Grain) |
| fumo | Fumo (em Folha) | Smoke (in Sheet) |
| girassol_sementes | Girassol (em Grao) | Sunflower (in Grain) |
| juta_fibra | Juta (Fibra) | Jute (Fiber) |
| linho_sementes | Linho (Semente) | Linen (Seed) |
| malva_fibra | Malva (Fibra) | Malva (Fiber) |
| mandioca | Mandioca | Cassava |
| melancia | Melancia | watermelon |
| melao | Melao | Melon |
| milho_temporary | Milho (em Grao) | corn (in grain) |
| rami_fibra | Rami (Fibra) | Ramie (Fiber) |
| rye | Centeio (em Grao) | Rye (in grain) |
| soja | Soja (em Grao) | Soybean (in grain) |
| sorgo | Sorgo (em Grao) | Sorghum (in Grain) |
| tomate | Tomate | Tomato |
| trigo | Trigo (em Grao) | Wheat in grain) |
| triticale | Triticale (em Grao) | Triticale (in grain) |
</details>

<details>
<summary> Datasets generated from Permanent Crops: </summary>

| dataset | Name (pt) | Name (eng) |
|:--------|:---------:|:----------:|
| acai |Acai|Acai| 
| annatto_seeds |Urucum (Semente)|Annatto (Seed)| 
| apple |Maca|Apple| 
| avocado |Abacate|Avocado| 
| banana |Banana (Cacho)|Banana (Bunch)| 
| black_pepper |Pimenta do Reino|Black pepper| 
| cashew |Caju|Cashew| 
| cashew_nut |Castanha de Caju|Cashew Nuts| 
| cocoa_beans |Cacau (em Amendoa)|Cocoa (in Almonds)| 
| coffee_arabica |Cafe (em Grao) Arabica|Cafe (in Grao) Arabica| 
| coffee_canephora |Cafe (em Grao) Canephora|Cafe (in Grain) Canephora| 
| coffee_total |Cafe (em Grao) Total|Coffee (in Grain) Total| 
| coconut |Coco da Baia|Coconut| 
| coconut_bunch |Dende (Cacho de Coco)|Coconut Bunch| 
| cotton_arboreo |Algodao Arboreo (em Caroco)| Arboreo cotton (in Caroco)| 
| fig |Figo|Fig| 
| grape |Uva|Grape| 
| guarana_seeds |Guarana (Semente)|Guarana (Seed)| 
| guava |Goiaba|Guava| 
| heart_of_palm |Palmito|Palm heart| 
| india_tea |Cha da India (Folha Verde)|India Tea (Leaf)| 
| khaki |Caqui|Khaki| 
| lemon |Limao|Lemon| 
| mango |Manga|Mango| 
| papaya |Mamao|Papaya| 
| passion_fruit |Maracuja|Passion fruit| 
| peach |Pessego|Peach| 
| pear |Pera|Pear| 
| permanent_total |Total|Total|
| quince |Marmelo|Quince| 
| rubber_coagulated_latex |Borracha (Latex Coagulado)|Rubber (Coagulated Latex)| 
| rubber_liquid_latex |Borracha (Latex Liquido)|Rubber (Liquid Latex)| 
| sisal_or_agave |Sisal ou Agave (Fibra)|Sisal or Agave (Fiber)| 
| tangerine |Tangerina|Tangerine| 
| tung |Tungue (Fruto Seco)|Tung (Dry Fruit)| 
| walnut |Noz (Fruto Seco)|Walnut (Dry Fruit)| 
| yerba_mate |Erva Mate (Folha Verde)|Mate Herb (Leaf)| 
</details>

**Examples:**

```{r eval=FALSE}
# download treated data at the state level from 2010 to 2011 for all crops
data <- load_pam(
  dataset = "all_crops",
  raw_data = FALSE,
  geo_level = "state",
  time_period = 2010:2011,
  language = "eng"
)
```
